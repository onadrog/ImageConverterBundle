!function(){class t extends HTMLElement{constructor(){super(),this.closeEvt=()=>{[this.closeBtn,this.saveBtn].forEach((t=>{t.addEventListener("click",(()=>{this.modal.style.display="none",this.openModalInput.classList.remove("imc-open"),this.removeAttribute("class")}))}))},this.cancelEvt=()=>{this.cancelBtn.addEventListener("click",(()=>{this.querySelectorAll("input").forEach((t=>{"text"===t.type||"file"===t.type?t.value="":t.checked=!1})),this.altInput.removeAttribute("disabled"),this.label.removeAttribute("style")}))},this.radioEvt=()=>{this.radioInputs.forEach((t=>{t.addEventListener("change",(t=>{const e=t.target;this.altInput.disabled=!0,this.altInput.value=e.dataset.alt}))}))},this.fileEvt=()=>{const t=new Image;this.fileInput.addEventListener("change",(e=>{const i=e.target.files[0],s=this.label.style,a=URL.createObjectURL(i);t.src=a,t.onload=t=>{URL.revokeObjectURL(t.target.src)},s.backgroundImage="url("+a+")",s.backgroundPosition="center",s.backgroundSize="cover",s.backgroundRepeat="no-repeat",s.border="none"}))},this.openModalInput=this.querySelector("#imc-openModal"),this.modal=this.querySelector("#imc-modal-fields"),this.closeBtn=this.querySelector(".imc-close"),this.saveBtn=this.querySelector(".imc-modal-save"),this.cancelBtn=this.querySelector(".imc-modal-cancel"),this.radioInputs=this.querySelectorAll("input[type='radio']"),this.altInput=this.querySelector("input[data-name='alt']"),this.entityInput=this.querySelector(".entity_value"),this.label=this.querySelector(".imc-label"),this.fileInput=this.querySelector("input[data-name='image_converter']"),this.init()}init(){this.openModalInput.addEventListener("click",(()=>{this.modal.removeAttribute("style"),this.className+="imc-open",this.openModalInput.className+="imc-open",this.closeEvt(),this.cancelEvt(),this.radioInputs&&this.radioEvt(),this.fileEvt()}))}}customElements.define("image-converter-modal",t)}();